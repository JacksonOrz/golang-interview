## 讲一下进程，线程，协程之间的区别？

进程是具有一定独立功能的程序，是**操作系统****资源分配和调度**的最小单位，每个进程拥有独立内存空间，不同进程之间通过进程间通信来通信。隔离性强但上下文切换开销比较大；

线程是进程的一个实体，是内核态，而且是**CPU调度和分派的基本单位**，它是比进程更小的能独立运行的基本单位。线程间通信主要通过共享内存，上下文切换很快，资源开销较少，但相比于进程不够稳定容易丢失数据。

协程：协程是一种用户态的轻量级线程，协程的调度完全是由用户来控制的。协程拥有自己的寄存器上下文和栈。协程调度切换时，将寄存器上下文和栈保存到其他地方，在切回来的时候，恢复先前保存的寄存器上下文和栈，直接操作栈则基本没有内核切换的开销，可以不加锁的访问全局变量，所以上下文的切换非常快。

## 进程、线程、协程之间怎么通信的？

进程拥有独立的内存空间，不能直接共享数据，必须**通过****操作系统****提供的****IPC****机制**，如：**管道、****消息队列****、****共享内存****、信号、Socket**等。

线程共享统一进程内存空间，**可以直接读写共享变量**，但是需要同步机制避免竞态：**互斥锁****、读****写锁**；条件变量，原子操作，信号量。

**协程之间的通信主要通过****channel**。